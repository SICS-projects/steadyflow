/* MainWindow.c generated by valac 0.16.1, the Vala compiler
 * generated from MainWindow.vala, do not modify */

/*
    MainWindow.vala
    Copyright (C) 2010-2011 Maia Kozheva <sikon@ubuntu.com>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>
#include <gee.h>
#include "config.h"


#define STEADYFLOW_UI_TYPE_IGTK_BUILDER_CONTAINER (steadyflow_ui_igtk_builder_container_get_type ())
#define STEADYFLOW_UI_IGTK_BUILDER_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_UI_TYPE_IGTK_BUILDER_CONTAINER, SteadyflowUIIGtkBuilderContainer))
#define STEADYFLOW_UI_IS_IGTK_BUILDER_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_UI_TYPE_IGTK_BUILDER_CONTAINER))
#define STEADYFLOW_UI_IGTK_BUILDER_CONTAINER_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), STEADYFLOW_UI_TYPE_IGTK_BUILDER_CONTAINER, SteadyflowUIIGtkBuilderContainerIface))

typedef struct _SteadyflowUIIGtkBuilderContainer SteadyflowUIIGtkBuilderContainer;
typedef struct _SteadyflowUIIGtkBuilderContainerIface SteadyflowUIIGtkBuilderContainerIface;

#define STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW (steadyflow_ui_gtk_builder_window_get_type ())
#define STEADYFLOW_UI_GTK_BUILDER_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW, SteadyflowUIGtkBuilderWindow))
#define STEADYFLOW_UI_GTK_BUILDER_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW, SteadyflowUIGtkBuilderWindowClass))
#define STEADYFLOW_UI_IS_GTK_BUILDER_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW))
#define STEADYFLOW_UI_IS_GTK_BUILDER_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW))
#define STEADYFLOW_UI_GTK_BUILDER_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW, SteadyflowUIGtkBuilderWindowClass))

typedef struct _SteadyflowUIGtkBuilderWindow SteadyflowUIGtkBuilderWindow;
typedef struct _SteadyflowUIGtkBuilderWindowClass SteadyflowUIGtkBuilderWindowClass;
typedef struct _SteadyflowUIGtkBuilderWindowPrivate SteadyflowUIGtkBuilderWindowPrivate;

#define STEADYFLOW_TYPE_MAIN_WINDOW (steadyflow_main_window_get_type ())
#define STEADYFLOW_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_TYPE_MAIN_WINDOW, SteadyflowMainWindow))
#define STEADYFLOW_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_TYPE_MAIN_WINDOW, SteadyflowMainWindowClass))
#define STEADYFLOW_IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_TYPE_MAIN_WINDOW))
#define STEADYFLOW_IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_TYPE_MAIN_WINDOW))
#define STEADYFLOW_MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_TYPE_MAIN_WINDOW, SteadyflowMainWindowClass))

typedef struct _SteadyflowMainWindow SteadyflowMainWindow;
typedef struct _SteadyflowMainWindowClass SteadyflowMainWindowClass;
typedef struct _SteadyflowMainWindowPrivate SteadyflowMainWindowPrivate;

#define STEADYFLOW_TYPE_INDICATOR_CONTROLLER (steadyflow_indicator_controller_get_type ())
#define STEADYFLOW_INDICATOR_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_TYPE_INDICATOR_CONTROLLER, SteadyflowIndicatorController))
#define STEADYFLOW_INDICATOR_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_TYPE_INDICATOR_CONTROLLER, SteadyflowIndicatorControllerClass))
#define STEADYFLOW_IS_INDICATOR_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_TYPE_INDICATOR_CONTROLLER))
#define STEADYFLOW_IS_INDICATOR_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_TYPE_INDICATOR_CONTROLLER))
#define STEADYFLOW_INDICATOR_CONTROLLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_TYPE_INDICATOR_CONTROLLER, SteadyflowIndicatorControllerClass))

typedef struct _SteadyflowIndicatorController SteadyflowIndicatorController;
typedef struct _SteadyflowIndicatorControllerClass SteadyflowIndicatorControllerClass;

#define STEADYFLOW_TYPE_FILE_LIST_CONTROLLER (steadyflow_file_list_controller_get_type ())
#define STEADYFLOW_FILE_LIST_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_TYPE_FILE_LIST_CONTROLLER, SteadyflowFileListController))
#define STEADYFLOW_FILE_LIST_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_TYPE_FILE_LIST_CONTROLLER, SteadyflowFileListControllerClass))
#define STEADYFLOW_IS_FILE_LIST_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_TYPE_FILE_LIST_CONTROLLER))
#define STEADYFLOW_IS_FILE_LIST_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_TYPE_FILE_LIST_CONTROLLER))
#define STEADYFLOW_FILE_LIST_CONTROLLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_TYPE_FILE_LIST_CONTROLLER, SteadyflowFileListControllerClass))

typedef struct _SteadyflowFileListController SteadyflowFileListController;
typedef struct _SteadyflowFileListControllerClass SteadyflowFileListControllerClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define STEADYFLOW_CORE_TYPE_ISETTINGS_SERVICE (steadyflow_core_isettings_service_get_type ())
#define STEADYFLOW_CORE_ISETTINGS_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_CORE_TYPE_ISETTINGS_SERVICE, SteadyflowCoreISettingsService))
#define STEADYFLOW_CORE_IS_ISETTINGS_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_CORE_TYPE_ISETTINGS_SERVICE))
#define STEADYFLOW_CORE_ISETTINGS_SERVICE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), STEADYFLOW_CORE_TYPE_ISETTINGS_SERVICE, SteadyflowCoreISettingsServiceIface))

typedef struct _SteadyflowCoreISettingsService SteadyflowCoreISettingsService;
typedef struct _SteadyflowCoreISettingsServiceIface SteadyflowCoreISettingsServiceIface;

#define STEADYFLOW_UI_TYPE_IINDICATOR_SERVICE (steadyflow_ui_iindicator_service_get_type ())
#define STEADYFLOW_UI_IINDICATOR_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_UI_TYPE_IINDICATOR_SERVICE, SteadyflowUIIIndicatorService))
#define STEADYFLOW_UI_IS_IINDICATOR_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_UI_TYPE_IINDICATOR_SERVICE))
#define STEADYFLOW_UI_IINDICATOR_SERVICE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), STEADYFLOW_UI_TYPE_IINDICATOR_SERVICE, SteadyflowUIIIndicatorServiceIface))

typedef struct _SteadyflowUIIIndicatorService SteadyflowUIIIndicatorService;
typedef struct _SteadyflowUIIIndicatorServiceIface SteadyflowUIIIndicatorServiceIface;

#define STEADYFLOW_CORE_TYPE_IDOWNLOAD_FILE (steadyflow_core_idownload_file_get_type ())
#define STEADYFLOW_CORE_IDOWNLOAD_FILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_CORE_TYPE_IDOWNLOAD_FILE, SteadyflowCoreIDownloadFile))
#define STEADYFLOW_CORE_IS_IDOWNLOAD_FILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_CORE_TYPE_IDOWNLOAD_FILE))
#define STEADYFLOW_CORE_IDOWNLOAD_FILE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), STEADYFLOW_CORE_TYPE_IDOWNLOAD_FILE, SteadyflowCoreIDownloadFileIface))

typedef struct _SteadyflowCoreIDownloadFile SteadyflowCoreIDownloadFile;
typedef struct _SteadyflowCoreIDownloadFileIface SteadyflowCoreIDownloadFileIface;

#define STEADYFLOW_CORE_IDOWNLOAD_FILE_TYPE_STATUS (steadyflow_core_idownload_file_status_get_type ())

#define STEADYFLOW_CORE_IDOWNLOAD_FILE_TYPE_FINISH_ACTION (steadyflow_core_idownload_file_finish_action_get_type ())

#define STEADYFLOW_UI_TYPE_GTK_BUILDER_DIALOG (steadyflow_ui_gtk_builder_dialog_get_type ())
#define STEADYFLOW_UI_GTK_BUILDER_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_UI_TYPE_GTK_BUILDER_DIALOG, SteadyflowUIGtkBuilderDialog))
#define STEADYFLOW_UI_GTK_BUILDER_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_UI_TYPE_GTK_BUILDER_DIALOG, SteadyflowUIGtkBuilderDialogClass))
#define STEADYFLOW_UI_IS_GTK_BUILDER_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_UI_TYPE_GTK_BUILDER_DIALOG))
#define STEADYFLOW_UI_IS_GTK_BUILDER_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_UI_TYPE_GTK_BUILDER_DIALOG))
#define STEADYFLOW_UI_GTK_BUILDER_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_UI_TYPE_GTK_BUILDER_DIALOG, SteadyflowUIGtkBuilderDialogClass))

typedef struct _SteadyflowUIGtkBuilderDialog SteadyflowUIGtkBuilderDialog;
typedef struct _SteadyflowUIGtkBuilderDialogClass SteadyflowUIGtkBuilderDialogClass;

#define STEADYFLOW_TYPE_ADD_FILE_DIALOG (steadyflow_add_file_dialog_get_type ())
#define STEADYFLOW_ADD_FILE_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_TYPE_ADD_FILE_DIALOG, SteadyflowAddFileDialog))
#define STEADYFLOW_ADD_FILE_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_TYPE_ADD_FILE_DIALOG, SteadyflowAddFileDialogClass))
#define STEADYFLOW_IS_ADD_FILE_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_TYPE_ADD_FILE_DIALOG))
#define STEADYFLOW_IS_ADD_FILE_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_TYPE_ADD_FILE_DIALOG))
#define STEADYFLOW_ADD_FILE_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_TYPE_ADD_FILE_DIALOG, SteadyflowAddFileDialogClass))

typedef struct _SteadyflowAddFileDialog SteadyflowAddFileDialog;
typedef struct _SteadyflowAddFileDialogClass SteadyflowAddFileDialogClass;
#define _g_free0(var) (var = (g_free (var), NULL))

#define STEADYFLOW_CORE_TYPE_IDOWNLOAD_SERVICE (steadyflow_core_idownload_service_get_type ())
#define STEADYFLOW_CORE_IDOWNLOAD_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_CORE_TYPE_IDOWNLOAD_SERVICE, SteadyflowCoreIDownloadService))
#define STEADYFLOW_CORE_IS_IDOWNLOAD_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_CORE_TYPE_IDOWNLOAD_SERVICE))
#define STEADYFLOW_CORE_IDOWNLOAD_SERVICE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), STEADYFLOW_CORE_TYPE_IDOWNLOAD_SERVICE, SteadyflowCoreIDownloadServiceIface))

typedef struct _SteadyflowCoreIDownloadService SteadyflowCoreIDownloadService;
typedef struct _SteadyflowCoreIDownloadServiceIface SteadyflowCoreIDownloadServiceIface;

#define STEADYFLOW_TYPE_PREFERENCES_DIALOG (steadyflow_preferences_dialog_get_type ())
#define STEADYFLOW_PREFERENCES_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), STEADYFLOW_TYPE_PREFERENCES_DIALOG, SteadyflowPreferencesDialog))
#define STEADYFLOW_PREFERENCES_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), STEADYFLOW_TYPE_PREFERENCES_DIALOG, SteadyflowPreferencesDialogClass))
#define STEADYFLOW_IS_PREFERENCES_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), STEADYFLOW_TYPE_PREFERENCES_DIALOG))
#define STEADYFLOW_IS_PREFERENCES_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), STEADYFLOW_TYPE_PREFERENCES_DIALOG))
#define STEADYFLOW_PREFERENCES_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), STEADYFLOW_TYPE_PREFERENCES_DIALOG, SteadyflowPreferencesDialogClass))

typedef struct _SteadyflowPreferencesDialog SteadyflowPreferencesDialog;
typedef struct _SteadyflowPreferencesDialogClass SteadyflowPreferencesDialogClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _SteadyflowUIIGtkBuilderContainerIface {
	GTypeInterface parent_iface;
	GtkBuilder* (*get_builder) (SteadyflowUIIGtkBuilderContainer* self);
};

struct _SteadyflowUIGtkBuilderWindow {
	GtkWindow parent_instance;
	SteadyflowUIGtkBuilderWindowPrivate * priv;
};

struct _SteadyflowUIGtkBuilderWindowClass {
	GtkWindowClass parent_class;
};

struct _SteadyflowMainWindow {
	SteadyflowUIGtkBuilderWindow parent_instance;
	SteadyflowMainWindowPrivate * priv;
};

struct _SteadyflowMainWindowClass {
	SteadyflowUIGtkBuilderWindowClass parent_class;
};

struct _SteadyflowMainWindowPrivate {
	GtkToolbar* toolbar;
	GtkContainer* statuspanel;
	GtkContainer* filestatuspanel;
	GtkLabel* url_label;
	GtkLabel* local_label;
	GtkLabel* status_label;
	GtkMenu* m_item_popup;
	GtkEntry* searchbox;
	GtkToggleToolButton* t_edit;
	GtkAction* a_start;
	GtkAction* a_pause;
	GtkAction* a_remove;
	GtkAction* a_open_file;
	GtkAction* a_open_folder;
	GtkAction* a_copy_link;
	GtkToggleAction* a_view_statuspanel;
	SteadyflowIndicatorController* indicator_controller;
	SteadyflowFileListController* file_list_controller;
};

struct _SteadyflowCoreISettingsServiceIface {
	GTypeInterface parent_iface;
	gboolean (*get_boolean) (SteadyflowCoreISettingsService* self, const gchar* key);
	gint (*get_int) (SteadyflowCoreISettingsService* self, const gchar* key);
	gint (*get_enum) (SteadyflowCoreISettingsService* self, const gchar* key);
	gchar* (*get_string) (SteadyflowCoreISettingsService* self, const gchar* key);
	void (*set_boolean) (SteadyflowCoreISettingsService* self, const gchar* key, gboolean value);
	void (*set_int) (SteadyflowCoreISettingsService* self, const gchar* key, gint value);
	void (*set_enum) (SteadyflowCoreISettingsService* self, const gchar* key, gint value);
	void (*set_string) (SteadyflowCoreISettingsService* self, const gchar* key, const gchar* value);
	void (*save) (SteadyflowCoreISettingsService* self);
};

struct _SteadyflowUIIIndicatorServiceIface {
	GTypeInterface parent_iface;
	void (*set_menu) (SteadyflowUIIIndicatorService* self, GtkMenu* menu);
	gchar* (*get_icon_name) (SteadyflowUIIIndicatorService* self);
	void (*set_icon_name) (SteadyflowUIIIndicatorService* self, const gchar* value);
	gboolean (*get_visible) (SteadyflowUIIIndicatorService* self);
	void (*set_visible) (SteadyflowUIIIndicatorService* self, gboolean value);
};

typedef enum  {
	STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_CONNECTING = 0,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_DOWNLOADING,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_PAUSED,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_FINISHED,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_NETWORK_ERROR
} SteadyflowCoreIDownloadFileStatus;

typedef enum  {
	STEADYFLOW_CORE_IDOWNLOAD_FILE_FINISH_ACTION_DO_NOTHING = 0,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_FINISH_ACTION_OPEN_FILE,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_FINISH_ACTION_OPEN_FOLDER,
	STEADYFLOW_CORE_IDOWNLOAD_FILE_FINISH_ACTION_RUN_COMMAND
} SteadyflowCoreIDownloadFileFinishAction;

struct _SteadyflowCoreIDownloadFileIface {
	GTypeInterface parent_iface;
	void (*start) (SteadyflowCoreIDownloadFile* self, gboolean resume);
	void (*pause) (SteadyflowCoreIDownloadFile* self);
	void (*serialize) (SteadyflowCoreIDownloadFile* self, GKeyFile* file);
	SteadyflowCoreIDownloadFileStatus (*get_status) (SteadyflowCoreIDownloadFile* self);
	gint (*get_uid) (SteadyflowCoreIDownloadFile* self);
	const gchar* (*get_url) (SteadyflowCoreIDownloadFile* self);
	const gchar* (*get_local_name) (SteadyflowCoreIDownloadFile* self);
	const gchar* (*get_local_basename) (SteadyflowCoreIDownloadFile* self);
	gint64 (*get_size) (SteadyflowCoreIDownloadFile* self);
	gint64 (*get_downloaded_size) (SteadyflowCoreIDownloadFile* self);
	gint (*get_speed) (SteadyflowCoreIDownloadFile* self);
	const gchar* (*get_icon_name) (SteadyflowCoreIDownloadFile* self);
	SteadyflowCoreIDownloadFileFinishAction (*get_finish_action) (SteadyflowCoreIDownloadFile* self);
	const gchar* (*get_finish_command) (SteadyflowCoreIDownloadFile* self);
	GError* (*get_error) (SteadyflowCoreIDownloadFile* self);
};

struct _SteadyflowCoreIDownloadServiceIface {
	GTypeInterface parent_iface;
	SteadyflowCoreIDownloadFile* (*get_file_by_uid) (SteadyflowCoreIDownloadService* self, gint uid);
	SteadyflowCoreIDownloadFile* (*add_file) (SteadyflowCoreIDownloadService* self, const gchar* url, const gchar* local_name, SteadyflowCoreIDownloadFileFinishAction finish_action, const gchar* finish_command, GError** error);
	void (*remove_file) (SteadyflowCoreIDownloadService* self, SteadyflowCoreIDownloadFile* file);
	GeeList* (*get_files) (SteadyflowCoreIDownloadService* self);
};


static gpointer steadyflow_main_window_parent_class = NULL;

#define STEADYFLOW_LICENSE "\n" \
"This program is free software: you can redistribute it and/or modify\n" \
"it under the terms of the GNU General Public License as published by\n" \
"the Free Software Foundation, either version 3 of the License, or\n" \
"(at your option) any later version.\n" \
"\n" \
"This program is distributed in the hope that it will be useful,\n" \
"but WITHOUT ANY WARRANTY; without even the implied warranty of\n" \
"MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n" \
"GNU General Public License for more details.\n" \
"\n" \
"You should have received a copy of the GNU General Public License\n" \
"along with this program.  If not, see <http://www.gnu.org/licenses/>.\n"
#define STEADYFLOW_X_GNOME_FULL_NAME _ ("Steadyflow Download Manager")
GType steadyflow_ui_igtk_builder_container_get_type (void) G_GNUC_CONST;
GType steadyflow_ui_gtk_builder_window_get_type (void) G_GNUC_CONST;
GType steadyflow_main_window_get_type (void) G_GNUC_CONST;
GType steadyflow_indicator_controller_get_type (void) G_GNUC_CONST;
GType steadyflow_file_list_controller_get_type (void) G_GNUC_CONST;
#define STEADYFLOW_MAIN_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), STEADYFLOW_TYPE_MAIN_WINDOW, SteadyflowMainWindowPrivate))
enum  {
	STEADYFLOW_MAIN_WINDOW_DUMMY_PROPERTY
};
SteadyflowMainWindow* steadyflow_main_window_new (GError** error);
SteadyflowMainWindow* steadyflow_main_window_construct (GType object_type, GError** error);
SteadyflowUIGtkBuilderWindow* steadyflow_ui_gtk_builder_window_construct (GType object_type, const gchar* file_id, GError** error);
SteadyflowIndicatorController* steadyflow_indicator_controller_new (void);
SteadyflowIndicatorController* steadyflow_indicator_controller_construct (GType object_type);
GObject* steadyflow_ui_igtk_builder_container_get_object (SteadyflowUIIGtkBuilderContainer* self, const gchar* id);
SteadyflowFileListController* steadyflow_file_list_controller_new (GtkTreeView* tree);
SteadyflowFileListController* steadyflow_file_list_controller_construct (GType object_type, GtkTreeView* tree);
static void steadyflow_main_window_set_statuspanel_visible (SteadyflowMainWindow* self, gboolean visible);
GType steadyflow_core_isettings_service_get_type (void) G_GNUC_CONST;
SteadyflowCoreISettingsService* steadyflow_services_get_settings (void);
gboolean steadyflow_core_isettings_service_get_boolean (SteadyflowCoreISettingsService* self, const gchar* key);
gint steadyflow_core_isettings_service_get_int (SteadyflowCoreISettingsService* self, const gchar* key);
static void __lambda29_ (SteadyflowMainWindow* self);
static void ___lambda29__steadyflow_core_isettings_service_changed (SteadyflowCoreISettingsService* _sender, gpointer self);
static void __lambda30_ (SteadyflowMainWindow* self, gboolean value);
static void ___lambda30__steadyflow_indicator_controller_show_hide_toggled (SteadyflowIndicatorController* _sender, gboolean visible, gpointer self);
static void __lambda31_ (SteadyflowMainWindow* self);
void steadyflow_main_window_add_download (SteadyflowMainWindow* self, const gchar* starting_url);
static void ___lambda31__steadyflow_indicator_controller_add_download_clicked (SteadyflowIndicatorController* _sender, gpointer self);
static void __lambda32_ (SteadyflowMainWindow* self);
static void ___lambda32__steadyflow_indicator_controller_quit_clicked (SteadyflowIndicatorController* _sender, gpointer self);
static void steadyflow_main_window_on_selection_changed (SteadyflowMainWindow* self);
static void _steadyflow_main_window_on_selection_changed_steadyflow_file_list_controller_selection_changed (SteadyflowFileListController* _sender, gpointer self);
static void steadyflow_main_window_update_searchbox_and_file_counts (SteadyflowMainWindow* self);
static void _steadyflow_main_window_update_searchbox_and_file_counts_steadyflow_file_list_controller_filelist_changed (SteadyflowFileListController* _sender, gpointer self);
void steadyflow_ui_ui_util_install_clear_handler (GtkEntry* entry);
static gboolean steadyflow_main_window_on_resize (SteadyflowMainWindow* self, GdkEventConfigure* event);
static gboolean _steadyflow_main_window_on_resize_gtk_widget_configure_event (GtkWidget* _sender, GdkEventConfigure* event, gpointer self);
static void _gtk_main_quit_gtk_widget_destroy (GtkWidget* _sender, gpointer self);
static gboolean __lambda33_ (SteadyflowMainWindow* self);
static gboolean steadyflow_main_window_on_close (SteadyflowMainWindow* self);
static gboolean ___lambda33__gtk_widget_delete_event (GtkWidget* _sender, GdkEventAny* event, gpointer self);
void steadyflow_ui_igtk_builder_container_autoconnect (SteadyflowUIIGtkBuilderContainer* self);
void steadyflow_core_isettings_service_set_int (SteadyflowCoreISettingsService* self, const gchar* key, gint value);
void steadyflow_core_isettings_service_save (SteadyflowCoreISettingsService* self);
GType steadyflow_ui_iindicator_service_get_type (void) G_GNUC_CONST;
SteadyflowUIIIndicatorService* steadyflow_services_get_indicator (void);
gboolean steadyflow_ui_iindicator_service_get_visible (SteadyflowUIIIndicatorService* self);
void steadyflow_indicator_controller_set_main_window_visible (SteadyflowIndicatorController* self, gboolean visible);
void steadyflow_main_window_on_quit (GtkMenuItem* sender, SteadyflowMainWindow* self);
GType steadyflow_core_idownload_file_status_get_type (void) G_GNUC_CONST;
GType steadyflow_core_idownload_file_finish_action_get_type (void) G_GNUC_CONST;
GType steadyflow_core_idownload_file_get_type (void) G_GNUC_CONST;
GeeList* steadyflow_file_list_controller_get_selected_files (SteadyflowFileListController* self);
const gchar* steadyflow_core_idownload_file_get_url (SteadyflowCoreIDownloadFile* self);
const gchar* steadyflow_core_idownload_file_get_local_name (SteadyflowCoreIDownloadFile* self);
gboolean steadyflow_core_idownload_file_can_start (SteadyflowCoreIDownloadFile* self);
gboolean steadyflow_core_idownload_file_can_pause (SteadyflowCoreIDownloadFile* self);
void steadyflow_main_window_on_view_statuspanel (GtkToggleAction* sender, SteadyflowMainWindow* self);
void steadyflow_core_isettings_service_set_boolean (SteadyflowCoreISettingsService* self, const gchar* key, gboolean value);
void steadyflow_main_window_on_file_add (GtkAction* sender, SteadyflowMainWindow* self);
SteadyflowAddFileDialog* steadyflow_add_file_dialog_new (const gchar* url);
SteadyflowAddFileDialog* steadyflow_add_file_dialog_construct (GType object_type, const gchar* url);
GType steadyflow_ui_gtk_builder_dialog_get_type (void) G_GNUC_CONST;
GType steadyflow_add_file_dialog_get_type (void) G_GNUC_CONST;
void steadyflow_file_list_controller_on_file_add_request (SteadyflowFileListController* self, SteadyflowAddFileDialog* dlg);
static void _steadyflow_file_list_controller_on_file_add_request_steadyflow_add_file_dialog_file_add_request (SteadyflowAddFileDialog* _sender, gpointer self);
void steadyflow_main_window_on_file_start (GtkAction* sender, SteadyflowMainWindow* self);
void steadyflow_core_idownload_file_start (SteadyflowCoreIDownloadFile* self, gboolean resume);
void steadyflow_main_window_on_file_pause (GtkAction* sender, SteadyflowMainWindow* self);
void steadyflow_core_idownload_file_pause (SteadyflowCoreIDownloadFile* self);
void steadyflow_main_window_on_file_remove (GtkAction* sender, SteadyflowMainWindow* self);
SteadyflowCoreIDownloadFileStatus steadyflow_core_idownload_file_get_status (SteadyflowCoreIDownloadFile* self);
#define STEADYFLOW_UI_UI_UTIL_MESSAGE_FORMAT "<span weight='bold' size='larger'>%s</span>\n\n%s\n"
const gchar* steadyflow_core_idownload_file_get_local_basename (SteadyflowCoreIDownloadFile* self);
GType steadyflow_core_idownload_service_get_type (void) G_GNUC_CONST;
SteadyflowCoreIDownloadService* steadyflow_services_get_download (void);
void steadyflow_core_idownload_service_remove_file (SteadyflowCoreIDownloadService* self, SteadyflowCoreIDownloadFile* file);
void steadyflow_main_window_on_open_file (GtkAction* sender, SteadyflowMainWindow* self);
static void steadyflow_main_window_open_selected_file (SteadyflowMainWindow* self);
SteadyflowCoreIDownloadFile* steadyflow_file_list_controller_get_selected_file (SteadyflowFileListController* self);
void steadyflow_ui_ui_util_open_file (SteadyflowCoreIDownloadFile* file);
void steadyflow_main_window_on_open_folder (GtkAction* sender, SteadyflowMainWindow* self);
void steadyflow_ui_ui_util_open_folder (SteadyflowCoreIDownloadFile* file);
void steadyflow_main_window_on_copy_link (GtkAction* sender, SteadyflowMainWindow* self);
void steadyflow_main_window_on_edit_preferences (GtkMenuItem* sender, SteadyflowMainWindow* self);
SteadyflowPreferencesDialog* steadyflow_preferences_dialog_new (GtkWindow* parent);
SteadyflowPreferencesDialog* steadyflow_preferences_dialog_construct (GType object_type, GtkWindow* parent);
GType steadyflow_preferences_dialog_get_type (void) G_GNUC_CONST;
static void steadyflow_main_window_show_uri (const gchar* uri);
void steadyflow_core_util_fatal_error (GError* e, const gchar* message);
void steadyflow_main_window_on_help_reportbug (GtkMenuItem* sender, SteadyflowMainWindow* self);
void steadyflow_main_window_on_help_translate (GtkMenuItem* sender, SteadyflowMainWindow* self);
void steadyflow_main_window_on_help_about (GtkMenuItem* sender, SteadyflowMainWindow* self);
static void steadyflow_main_window_on_menu_position (SteadyflowMainWindow* self, GtkMenu* menu, gint* x, gint* y, gboolean* push_in);
void steadyflow_main_window_on_menu_edit (GtkToolButton* sender, SteadyflowMainWindow* self);
static void _steadyflow_main_window_on_menu_position_gtk_menu_position_func (GtkMenu* menu, gint* x, gint* y, gboolean* push_in, gpointer self);
void steadyflow_main_window_on_app_menu_deactivate (GtkMenu* sender, SteadyflowMainWindow* self);
void steadyflow_main_window_on_searchbox_changed (GtkEntry* sender, SteadyflowMainWindow* self);
void steadyflow_file_list_controller_set_filter (SteadyflowFileListController* self, const gchar* filter);
gboolean steadyflow_main_window_on_tree_key_press (GtkTreeView* sender, GdkEventKey* e, SteadyflowMainWindow* self);
gboolean steadyflow_main_window_on_tree_button_press (GtkTreeView* sender, GdkEventButton* e, SteadyflowMainWindow* self);
SteadyflowCoreIDownloadFile* steadyflow_file_list_controller_get_file_at_widget_pos (SteadyflowFileListController* self, gint x, gint y);
gboolean steadyflow_main_window_on_tree_button_release (GtkTreeView* sender, GdkEventButton* e, SteadyflowMainWindow* self);
static void steadyflow_main_window_tree_popup_menu (SteadyflowMainWindow* self, guint button, guint time);
gboolean steadyflow_main_window_on_tree_popup_menu (GtkTreeView* sender, SteadyflowMainWindow* self);
gint steadyflow_file_list_controller_get_selection_count (SteadyflowFileListController* self);
GeeList* steadyflow_core_idownload_service_get_files (SteadyflowCoreIDownloadService* self);
void steadyflow_main_window_on_deploy_surprise (GtkWidget* sender, GdkEventButton* e, SteadyflowMainWindow* self);
static void steadyflow_main_window_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static void __lambda29_ (SteadyflowMainWindow* self) {
	SteadyflowCoreISettingsService* _tmp0_;
	SteadyflowCoreISettingsService* _tmp1_;
	gboolean _tmp2_ = FALSE;
	_tmp0_ = steadyflow_services_get_settings ();
	_tmp1_ = _tmp0_;
	_tmp2_ = steadyflow_core_isettings_service_get_boolean (_tmp1_, "show-statuspanel");
	steadyflow_main_window_set_statuspanel_visible (self, _tmp2_);
}


static void ___lambda29__steadyflow_core_isettings_service_changed (SteadyflowCoreISettingsService* _sender, gpointer self) {
	__lambda29_ (self);
}


static void __lambda30_ (SteadyflowMainWindow* self, gboolean value) {
	gboolean _tmp0_;
	_tmp0_ = value;
	gtk_widget_set_visible ((GtkWidget*) self, _tmp0_);
}


static void ___lambda30__steadyflow_indicator_controller_show_hide_toggled (SteadyflowIndicatorController* _sender, gboolean visible, gpointer self) {
	__lambda30_ (self, visible);
}


static void __lambda31_ (SteadyflowMainWindow* self) {
	steadyflow_main_window_add_download (self, "");
}


static void ___lambda31__steadyflow_indicator_controller_add_download_clicked (SteadyflowIndicatorController* _sender, gpointer self) {
	__lambda31_ (self);
}


static void __lambda32_ (SteadyflowMainWindow* self) {
	gtk_widget_destroy ((GtkWidget*) self);
}


static void ___lambda32__steadyflow_indicator_controller_quit_clicked (SteadyflowIndicatorController* _sender, gpointer self) {
	__lambda32_ (self);
}


static void _steadyflow_main_window_on_selection_changed_steadyflow_file_list_controller_selection_changed (SteadyflowFileListController* _sender, gpointer self) {
	steadyflow_main_window_on_selection_changed (self);
}


static void _steadyflow_main_window_update_searchbox_and_file_counts_steadyflow_file_list_controller_filelist_changed (SteadyflowFileListController* _sender, gpointer self) {
	steadyflow_main_window_update_searchbox_and_file_counts (self);
}


static gboolean _steadyflow_main_window_on_resize_gtk_widget_configure_event (GtkWidget* _sender, GdkEventConfigure* event, gpointer self) {
	gboolean result;
	result = steadyflow_main_window_on_resize (self, event);
	return result;
}


static void _gtk_main_quit_gtk_widget_destroy (GtkWidget* _sender, gpointer self) {
	gtk_main_quit ();
}


static gboolean __lambda33_ (SteadyflowMainWindow* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	_tmp0_ = steadyflow_main_window_on_close (self);
	result = _tmp0_;
	return result;
}


static gboolean ___lambda33__gtk_widget_delete_event (GtkWidget* _sender, GdkEventAny* event, gpointer self) {
	gboolean result;
	result = __lambda33_ (self);
	return result;
}


SteadyflowMainWindow* steadyflow_main_window_construct (GType object_type, GError** error) {
	SteadyflowMainWindow * self = NULL;
	const gchar* _tmp0_ = NULL;
	SteadyflowIndicatorController* _tmp1_;
	GObject* _tmp2_ = NULL;
	GtkTreeView* _tmp3_;
	SteadyflowFileListController* _tmp4_;
	GObject* _tmp5_ = NULL;
	GObject* _tmp6_ = NULL;
	GObject* _tmp7_ = NULL;
	GObject* _tmp8_ = NULL;
	GObject* _tmp9_ = NULL;
	GObject* _tmp10_ = NULL;
	GObject* _tmp11_ = NULL;
	GObject* _tmp12_ = NULL;
	GObject* _tmp13_ = NULL;
	GObject* _tmp14_ = NULL;
	GObject* _tmp15_ = NULL;
	GObject* _tmp16_ = NULL;
	GObject* _tmp17_ = NULL;
	GObject* _tmp18_ = NULL;
	GObject* _tmp19_ = NULL;
	GObject* _tmp20_ = NULL;
	SteadyflowCoreISettingsService* _tmp21_;
	SteadyflowCoreISettingsService* _tmp22_;
	gboolean _tmp23_ = FALSE;
	SteadyflowCoreISettingsService* _tmp24_;
	SteadyflowCoreISettingsService* _tmp25_;
	gint _tmp26_ = 0;
	SteadyflowCoreISettingsService* _tmp27_;
	SteadyflowCoreISettingsService* _tmp28_;
	gint _tmp29_ = 0;
	SteadyflowCoreISettingsService* _tmp30_;
	SteadyflowCoreISettingsService* _tmp31_;
	SteadyflowIndicatorController* _tmp32_;
	SteadyflowIndicatorController* _tmp33_;
	SteadyflowIndicatorController* _tmp34_;
	SteadyflowFileListController* _tmp35_;
	SteadyflowFileListController* _tmp36_;
	GtkEntry* _tmp37_;
	GError * _inner_error_ = NULL;
	self = (SteadyflowMainWindow*) steadyflow_ui_gtk_builder_window_construct (object_type, "MainWindow", &_inner_error_);
	if (_inner_error_ != NULL) {
		g_propagate_error (error, _inner_error_);
		_g_object_unref0 (self);
		return NULL;
	}
	_tmp0_ = _ ("Download Manager");
	gtk_window_set_title ((GtkWindow*) self, _tmp0_);
	gtk_window_set_icon_name ((GtkWindow*) self, "steadyflow");
	_tmp1_ = steadyflow_indicator_controller_new ();
	_g_object_unref0 (self->priv->indicator_controller);
	self->priv->indicator_controller = _tmp1_;
	_tmp2_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "tree");
	_tmp3_ = GTK_TREE_VIEW (_tmp2_);
	_tmp4_ = steadyflow_file_list_controller_new (_tmp3_);
	_g_object_unref0 (self->priv->file_list_controller);
	self->priv->file_list_controller = _tmp4_;
	_g_object_unref0 (_tmp3_);
	_tmp5_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "toolbar");
	_g_object_unref0 (self->priv->toolbar);
	self->priv->toolbar = GTK_TOOLBAR (_tmp5_);
	_tmp6_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "t_edit");
	_g_object_unref0 (self->priv->t_edit);
	self->priv->t_edit = GTK_TOGGLE_TOOL_BUTTON (_tmp6_);
	_tmp7_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "statuspanel");
	_g_object_unref0 (self->priv->statuspanel);
	self->priv->statuspanel = GTK_CONTAINER (_tmp7_);
	_tmp8_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "filestatuspanel");
	_g_object_unref0 (self->priv->filestatuspanel);
	self->priv->filestatuspanel = GTK_CONTAINER (_tmp8_);
	_tmp9_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "url_label");
	_g_object_unref0 (self->priv->url_label);
	self->priv->url_label = GTK_LABEL (_tmp9_);
	_tmp10_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "local_label");
	_g_object_unref0 (self->priv->local_label);
	self->priv->local_label = GTK_LABEL (_tmp10_);
	_tmp11_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "status_label");
	_g_object_unref0 (self->priv->status_label);
	self->priv->status_label = GTK_LABEL (_tmp11_);
	_tmp12_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "m_item_popup");
	_g_object_unref0 (self->priv->m_item_popup);
	self->priv->m_item_popup = GTK_MENU (_tmp12_);
	_tmp13_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "searchbox");
	_g_object_unref0 (self->priv->searchbox);
	self->priv->searchbox = GTK_ENTRY (_tmp13_);
	_tmp14_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_start");
	_g_object_unref0 (self->priv->a_start);
	self->priv->a_start = GTK_ACTION (_tmp14_);
	_tmp15_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_pause");
	_g_object_unref0 (self->priv->a_pause);
	self->priv->a_pause = GTK_ACTION (_tmp15_);
	_tmp16_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_remove");
	_g_object_unref0 (self->priv->a_remove);
	self->priv->a_remove = GTK_ACTION (_tmp16_);
	_tmp17_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_view_statuspanel");
	_g_object_unref0 (self->priv->a_view_statuspanel);
	self->priv->a_view_statuspanel = GTK_TOGGLE_ACTION (_tmp17_);
	_tmp18_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_open_file");
	_g_object_unref0 (self->priv->a_open_file);
	self->priv->a_open_file = GTK_ACTION (_tmp18_);
	_tmp19_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_open_folder");
	_g_object_unref0 (self->priv->a_open_folder);
	self->priv->a_open_folder = GTK_ACTION (_tmp19_);
	_tmp20_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "a_copy_link");
	_g_object_unref0 (self->priv->a_copy_link);
	self->priv->a_copy_link = GTK_ACTION (_tmp20_);
	_tmp21_ = steadyflow_services_get_settings ();
	_tmp22_ = _tmp21_;
	_tmp23_ = steadyflow_core_isettings_service_get_boolean (_tmp22_, "show-statuspanel");
	steadyflow_main_window_set_statuspanel_visible (self, _tmp23_);
	_tmp24_ = steadyflow_services_get_settings ();
	_tmp25_ = _tmp24_;
	_tmp26_ = steadyflow_core_isettings_service_get_int (_tmp25_, "window-width");
	_tmp27_ = steadyflow_services_get_settings ();
	_tmp28_ = _tmp27_;
	_tmp29_ = steadyflow_core_isettings_service_get_int (_tmp28_, "window-height");
	gtk_window_set_default_size ((GtkWindow*) self, _tmp26_, _tmp29_);
	gtk_window_set_position ((GtkWindow*) self, GTK_WIN_POS_CENTER);
	_tmp30_ = steadyflow_services_get_settings ();
	_tmp31_ = _tmp30_;
	g_signal_connect_object (_tmp31_, "changed::show-statuspanel", (GCallback) ___lambda29__steadyflow_core_isettings_service_changed, self, 0);
	_tmp32_ = self->priv->indicator_controller;
	g_signal_connect_object (_tmp32_, "show-hide-toggled", (GCallback) ___lambda30__steadyflow_indicator_controller_show_hide_toggled, self, 0);
	_tmp33_ = self->priv->indicator_controller;
	g_signal_connect_object (_tmp33_, "add-download-clicked", (GCallback) ___lambda31__steadyflow_indicator_controller_add_download_clicked, self, 0);
	_tmp34_ = self->priv->indicator_controller;
	g_signal_connect_object (_tmp34_, "quit-clicked", (GCallback) ___lambda32__steadyflow_indicator_controller_quit_clicked, self, 0);
	_tmp35_ = self->priv->file_list_controller;
	g_signal_connect_object (_tmp35_, "selection-changed", (GCallback) _steadyflow_main_window_on_selection_changed_steadyflow_file_list_controller_selection_changed, self, 0);
	_tmp36_ = self->priv->file_list_controller;
	g_signal_connect_object (_tmp36_, "filelist-changed", (GCallback) _steadyflow_main_window_update_searchbox_and_file_counts_steadyflow_file_list_controller_filelist_changed, self, 0);
	_tmp37_ = self->priv->searchbox;
	steadyflow_ui_ui_util_install_clear_handler (_tmp37_);
	g_signal_connect_object ((GtkWidget*) self, "configure-event", (GCallback) _steadyflow_main_window_on_resize_gtk_widget_configure_event, self, 0);
	g_signal_connect ((GtkWidget*) self, "destroy", (GCallback) _gtk_main_quit_gtk_widget_destroy, NULL);
	g_signal_connect_object ((GtkWidget*) self, "delete-event", (GCallback) ___lambda33__gtk_widget_delete_event, self, 0);
	steadyflow_ui_igtk_builder_container_autoconnect ((SteadyflowUIIGtkBuilderContainer*) self);
	steadyflow_main_window_update_searchbox_and_file_counts (self);
	return self;
}


SteadyflowMainWindow* steadyflow_main_window_new (GError** error) {
	return steadyflow_main_window_construct (STEADYFLOW_TYPE_MAIN_WINDOW, error);
}


static gboolean steadyflow_main_window_on_resize (SteadyflowMainWindow* self, GdkEventConfigure* event) {
	gboolean result = FALSE;
	SteadyflowCoreISettingsService* _tmp0_;
	SteadyflowCoreISettingsService* _tmp1_;
	GdkEventConfigure _tmp2_;
	gint _tmp3_;
	SteadyflowCoreISettingsService* _tmp4_;
	SteadyflowCoreISettingsService* _tmp5_;
	GdkEventConfigure _tmp6_;
	gint _tmp7_;
	SteadyflowCoreISettingsService* _tmp8_;
	SteadyflowCoreISettingsService* _tmp9_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (event != NULL, FALSE);
	_tmp0_ = steadyflow_services_get_settings ();
	_tmp1_ = _tmp0_;
	_tmp2_ = *event;
	_tmp3_ = _tmp2_.width;
	steadyflow_core_isettings_service_set_int (_tmp1_, "window-width", _tmp3_);
	_tmp4_ = steadyflow_services_get_settings ();
	_tmp5_ = _tmp4_;
	_tmp6_ = *event;
	_tmp7_ = _tmp6_.height;
	steadyflow_core_isettings_service_set_int (_tmp5_, "window-height", _tmp7_);
	_tmp8_ = steadyflow_services_get_settings ();
	_tmp9_ = _tmp8_;
	steadyflow_core_isettings_service_save (_tmp9_);
	result = FALSE;
	return result;
}


static gboolean steadyflow_main_window_on_close (SteadyflowMainWindow* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	SteadyflowUIIIndicatorService* _tmp1_;
	SteadyflowUIIIndicatorService* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp8_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = steadyflow_services_get_indicator ();
	_tmp2_ = _tmp1_;
	_tmp3_ = steadyflow_ui_iindicator_service_get_visible (_tmp2_);
	_tmp4_ = _tmp3_;
	if (_tmp4_) {
		SteadyflowCoreISettingsService* _tmp5_;
		SteadyflowCoreISettingsService* _tmp6_;
		gboolean _tmp7_ = FALSE;
		_tmp5_ = steadyflow_services_get_settings ();
		_tmp6_ = _tmp5_;
		_tmp7_ = steadyflow_core_isettings_service_get_boolean (_tmp6_, "minimize-to-indicator");
		_tmp0_ = _tmp7_;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp8_ = _tmp0_;
	if (_tmp8_) {
		SteadyflowIndicatorController* _tmp9_;
		gtk_widget_hide ((GtkWidget*) self);
		_tmp9_ = self->priv->indicator_controller;
		steadyflow_indicator_controller_set_main_window_visible (_tmp9_, FALSE);
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}


void steadyflow_main_window_on_quit (GtkMenuItem* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	gtk_widget_destroy ((GtkWidget*) self);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void steadyflow_main_window_on_selection_changed (SteadyflowMainWindow* self) {
	SteadyflowFileListController* _tmp0_;
	GeeList* _tmp1_ = NULL;
	GeeList* selection;
	GtkAction* _tmp2_;
	GeeList* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	GeeList* _tmp6_;
	gint _tmp7_;
	gint _tmp8_;
	gboolean can_start;
	gboolean can_pause;
	GtkAction* _tmp42_;
	gboolean _tmp43_;
	GtkAction* _tmp44_;
	gboolean _tmp45_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->file_list_controller;
	_tmp1_ = steadyflow_file_list_controller_get_selected_files (_tmp0_);
	selection = _tmp1_;
	_tmp2_ = self->priv->a_remove;
	_tmp3_ = selection;
	_tmp4_ = gee_collection_get_is_empty ((GeeCollection*) _tmp3_);
	_tmp5_ = _tmp4_;
	gtk_action_set_sensitive (_tmp2_, !_tmp5_);
	_tmp6_ = selection;
	_tmp7_ = gee_collection_get_size ((GeeCollection*) _tmp6_);
	_tmp8_ = _tmp7_;
	if (_tmp8_ == 1) {
		GtkContainer* _tmp9_;
		GeeList* _tmp10_;
		gpointer _tmp11_ = NULL;
		SteadyflowCoreIDownloadFile* file;
		GtkLabel* _tmp12_;
		SteadyflowCoreIDownloadFile* _tmp13_;
		const gchar* _tmp14_;
		const gchar* _tmp15_;
		GtkLabel* _tmp16_;
		SteadyflowCoreIDownloadFile* _tmp17_;
		const gchar* _tmp18_;
		const gchar* _tmp19_;
		_tmp9_ = self->priv->filestatuspanel;
		gtk_widget_set_sensitive ((GtkWidget*) _tmp9_, TRUE);
		_tmp10_ = selection;
		_tmp11_ = gee_list_get (_tmp10_, 0);
		file = (SteadyflowCoreIDownloadFile*) _tmp11_;
		_tmp12_ = self->priv->url_label;
		_tmp13_ = file;
		_tmp14_ = steadyflow_core_idownload_file_get_url (_tmp13_);
		_tmp15_ = _tmp14_;
		gtk_label_set_text (_tmp12_, _tmp15_);
		_tmp16_ = self->priv->local_label;
		_tmp17_ = file;
		_tmp18_ = steadyflow_core_idownload_file_get_local_name (_tmp17_);
		_tmp19_ = _tmp18_;
		gtk_label_set_text (_tmp16_, _tmp19_);
		_g_object_unref0 (file);
	} else {
		GtkContainer* _tmp20_;
		GtkLabel* _tmp21_;
		GtkLabel* _tmp22_;
		_tmp20_ = self->priv->filestatuspanel;
		gtk_widget_set_sensitive ((GtkWidget*) _tmp20_, FALSE);
		_tmp21_ = self->priv->url_label;
		gtk_label_set_text (_tmp21_, "");
		_tmp22_ = self->priv->local_label;
		gtk_label_set_text (_tmp22_, "");
	}
	can_start = FALSE;
	can_pause = FALSE;
	{
		GeeList* _tmp23_;
		GeeList* _tmp24_;
		GeeList* _file_list;
		GeeList* _tmp25_;
		gint _tmp26_;
		gint _tmp27_;
		gint _file_size;
		gint _file_index;
		_tmp23_ = selection;
		_tmp24_ = _g_object_ref0 (_tmp23_);
		_file_list = _tmp24_;
		_tmp25_ = _file_list;
		_tmp26_ = gee_collection_get_size ((GeeCollection*) _tmp25_);
		_tmp27_ = _tmp26_;
		_file_size = _tmp27_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp28_;
			gint _tmp29_;
			gint _tmp30_;
			GeeList* _tmp31_;
			gint _tmp32_;
			gpointer _tmp33_ = NULL;
			SteadyflowCoreIDownloadFile* file;
			SteadyflowCoreIDownloadFile* _tmp34_;
			gboolean _tmp35_ = FALSE;
			SteadyflowCoreIDownloadFile* _tmp36_;
			gboolean _tmp37_ = FALSE;
			gboolean _tmp38_ = FALSE;
			gboolean _tmp39_;
			gboolean _tmp41_;
			_tmp28_ = _file_index;
			_file_index = _tmp28_ + 1;
			_tmp29_ = _file_index;
			_tmp30_ = _file_size;
			if (!(_tmp29_ < _tmp30_)) {
				break;
			}
			_tmp31_ = _file_list;
			_tmp32_ = _file_index;
			_tmp33_ = gee_list_get (_tmp31_, _tmp32_);
			file = (SteadyflowCoreIDownloadFile*) _tmp33_;
			_tmp34_ = file;
			_tmp35_ = steadyflow_core_idownload_file_can_start (_tmp34_);
			if (_tmp35_) {
				can_start = TRUE;
			}
			_tmp36_ = file;
			_tmp37_ = steadyflow_core_idownload_file_can_pause (_tmp36_);
			if (_tmp37_) {
				can_pause = TRUE;
			}
			_tmp39_ = can_start;
			if (_tmp39_) {
				gboolean _tmp40_;
				_tmp40_ = can_pause;
				_tmp38_ = _tmp40_;
			} else {
				_tmp38_ = FALSE;
			}
			_tmp41_ = _tmp38_;
			if (_tmp41_) {
				_g_object_unref0 (file);
				break;
			}
			_g_object_unref0 (file);
		}
		_g_object_unref0 (_file_list);
	}
	_tmp42_ = self->priv->a_start;
	_tmp43_ = can_start;
	gtk_action_set_sensitive (_tmp42_, _tmp43_);
	_tmp44_ = self->priv->a_pause;
	_tmp45_ = can_pause;
	gtk_action_set_sensitive (_tmp44_, _tmp45_);
	_g_object_unref0 (selection);
}


static void steadyflow_main_window_set_statuspanel_visible (SteadyflowMainWindow* self, gboolean visible) {
	GtkContainer* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	GtkToggleAction* _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->statuspanel;
	_tmp1_ = gtk_widget_get_visible ((GtkWidget*) _tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = visible;
	if (_tmp2_ != _tmp3_) {
		GtkContainer* _tmp4_;
		gboolean _tmp5_;
		_tmp4_ = self->priv->statuspanel;
		_tmp5_ = visible;
		gtk_widget_set_visible ((GtkWidget*) _tmp4_, _tmp5_);
	}
	_tmp6_ = self->priv->a_view_statuspanel;
	_tmp7_ = gtk_toggle_action_get_active (_tmp6_);
	_tmp8_ = _tmp7_;
	_tmp9_ = visible;
	if (_tmp8_ != _tmp9_) {
		GtkToggleAction* _tmp10_;
		gboolean _tmp11_;
		_tmp10_ = self->priv->a_view_statuspanel;
		_tmp11_ = visible;
		gtk_toggle_action_set_active (_tmp10_, _tmp11_);
	}
}


void steadyflow_main_window_on_view_statuspanel (GtkToggleAction* sender, SteadyflowMainWindow* self) {
	SteadyflowCoreISettingsService* _tmp0_;
	SteadyflowCoreISettingsService* _tmp1_;
	GtkToggleAction* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = steadyflow_services_get_settings ();
	_tmp1_ = _tmp0_;
	_tmp2_ = sender;
	_tmp3_ = gtk_toggle_action_get_active (_tmp2_);
	_tmp4_ = _tmp3_;
	steadyflow_core_isettings_service_set_boolean (_tmp1_, "show-statuspanel", _tmp4_);
}


void steadyflow_main_window_on_file_add (GtkAction* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	steadyflow_main_window_add_download (self, "");
}


static void _steadyflow_file_list_controller_on_file_add_request_steadyflow_add_file_dialog_file_add_request (SteadyflowAddFileDialog* _sender, gpointer self) {
	steadyflow_file_list_controller_on_file_add_request (self, _sender);
}


void steadyflow_main_window_add_download (SteadyflowMainWindow* self, const gchar* starting_url) {
	const gchar* _tmp0_;
	SteadyflowAddFileDialog* _tmp1_;
	SteadyflowAddFileDialog* _tmp2_;
	SteadyflowAddFileDialog* dlg;
	SteadyflowFileListController* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (starting_url != NULL);
	_tmp0_ = starting_url;
	_tmp1_ = steadyflow_add_file_dialog_new (_tmp0_);
	_tmp2_ = g_object_ref_sink (_tmp1_);
	dlg = _tmp2_;
	_tmp3_ = self->priv->file_list_controller;
	g_signal_connect_object (dlg, "file-add-request", (GCallback) _steadyflow_file_list_controller_on_file_add_request_steadyflow_add_file_dialog_file_add_request, _tmp3_, 0);
	gtk_widget_show ((GtkWidget*) dlg);
	_g_object_unref0 (dlg);
}


void steadyflow_main_window_on_file_start (GtkAction* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	{
		SteadyflowFileListController* _tmp0_;
		GeeList* _tmp1_ = NULL;
		GeeList* _file_list;
		GeeList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _file_size;
		gint _file_index;
		_tmp0_ = self->priv->file_list_controller;
		_tmp1_ = steadyflow_file_list_controller_get_selected_files (_tmp0_);
		_file_list = _tmp1_;
		_tmp2_ = _file_list;
		_tmp3_ = gee_collection_get_size ((GeeCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_file_size = _tmp4_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			GeeList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_ = NULL;
			SteadyflowCoreIDownloadFile* file;
			SteadyflowCoreIDownloadFile* _tmp11_;
			_tmp5_ = _file_index;
			_file_index = _tmp5_ + 1;
			_tmp6_ = _file_index;
			_tmp7_ = _file_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _file_list;
			_tmp9_ = _file_index;
			_tmp10_ = gee_list_get (_tmp8_, _tmp9_);
			file = (SteadyflowCoreIDownloadFile*) _tmp10_;
			_tmp11_ = file;
			steadyflow_core_idownload_file_start (_tmp11_, TRUE);
			_g_object_unref0 (file);
		}
		_g_object_unref0 (_file_list);
	}
}


void steadyflow_main_window_on_file_pause (GtkAction* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	{
		SteadyflowFileListController* _tmp0_;
		GeeList* _tmp1_ = NULL;
		GeeList* _file_list;
		GeeList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _file_size;
		gint _file_index;
		_tmp0_ = self->priv->file_list_controller;
		_tmp1_ = steadyflow_file_list_controller_get_selected_files (_tmp0_);
		_file_list = _tmp1_;
		_tmp2_ = _file_list;
		_tmp3_ = gee_collection_get_size ((GeeCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_file_size = _tmp4_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			GeeList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_ = NULL;
			SteadyflowCoreIDownloadFile* file;
			SteadyflowCoreIDownloadFile* _tmp11_;
			_tmp5_ = _file_index;
			_file_index = _tmp5_ + 1;
			_tmp6_ = _file_index;
			_tmp7_ = _file_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _file_list;
			_tmp9_ = _file_index;
			_tmp10_ = gee_list_get (_tmp8_, _tmp9_);
			file = (SteadyflowCoreIDownloadFile*) _tmp10_;
			_tmp11_ = file;
			steadyflow_core_idownload_file_pause (_tmp11_);
			_g_object_unref0 (file);
		}
		_g_object_unref0 (_file_list);
	}
}


void steadyflow_main_window_on_file_remove (GtkAction* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	{
		SteadyflowFileListController* _tmp0_;
		GeeList* _tmp1_ = NULL;
		GeeList* _file_list;
		GeeList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _file_size;
		gint _file_index;
		_tmp0_ = self->priv->file_list_controller;
		_tmp1_ = steadyflow_file_list_controller_get_selected_files (_tmp0_);
		_file_list = _tmp1_;
		_tmp2_ = _file_list;
		_tmp3_ = gee_collection_get_size ((GeeCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_file_size = _tmp4_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			GeeList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_ = NULL;
			SteadyflowCoreIDownloadFile* file;
			SteadyflowCoreIDownloadFile* _tmp11_;
			SteadyflowCoreIDownloadFileStatus _tmp12_;
			SteadyflowCoreIDownloadFileStatus _tmp13_;
			SteadyflowCoreIDownloadService* _tmp30_;
			SteadyflowCoreIDownloadService* _tmp31_;
			SteadyflowCoreIDownloadFile* _tmp32_;
			_tmp5_ = _file_index;
			_file_index = _tmp5_ + 1;
			_tmp6_ = _file_index;
			_tmp7_ = _file_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _file_list;
			_tmp9_ = _file_index;
			_tmp10_ = gee_list_get (_tmp8_, _tmp9_);
			file = (SteadyflowCoreIDownloadFile*) _tmp10_;
			_tmp11_ = file;
			_tmp12_ = steadyflow_core_idownload_file_get_status (_tmp11_);
			_tmp13_ = _tmp12_;
			if (_tmp13_ != STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_FINISHED) {
				const gchar* _tmp14_ = NULL;
				SteadyflowCoreIDownloadFile* _tmp15_;
				const gchar* _tmp16_;
				const gchar* _tmp17_;
				gchar* _tmp18_ = NULL;
				gchar* _tmp19_;
				const gchar* _tmp20_ = NULL;
				GtkMessageDialog* _tmp21_;
				GtkMessageDialog* _tmp22_;
				GtkMessageDialog* _tmp23_;
				GtkMessageDialog* md;
				GtkMessageDialog* _tmp24_;
				GtkMessageDialog* _tmp25_;
				GtkMessageDialog* _tmp26_;
				gint _tmp27_ = 0;
				gint response;
				GtkMessageDialog* _tmp28_;
				gint _tmp29_;
				_tmp14_ = _ ("The file \"%s\" is not downloaded yet");
				_tmp15_ = file;
				_tmp16_ = steadyflow_core_idownload_file_get_local_basename (_tmp15_);
				_tmp17_ = _tmp16_;
				_tmp18_ = g_strdup_printf (_tmp14_, _tmp17_);
				_tmp19_ = _tmp18_;
				_tmp20_ = _ ("The file you request to be removed from the download list is not yet f" \
"ully downloaded. " "Are you sure you want to remove it?");
				_tmp21_ = (GtkMessageDialog*) gtk_message_dialog_new_with_markup ((GtkWindow*) self, GTK_DIALOG_MODAL, GTK_MESSAGE_WARNING, GTK_BUTTONS_NONE, STEADYFLOW_UI_UI_UTIL_MESSAGE_FORMAT, _tmp19_, _tmp20_);
				_tmp22_ = g_object_ref_sink (_tmp21_);
				_tmp23_ = _tmp22_;
				_g_free0 (_tmp19_);
				md = _tmp23_;
				_tmp24_ = md;
				gtk_dialog_add_button ((GtkDialog*) _tmp24_, GTK_STOCK_CANCEL, (gint) GTK_RESPONSE_CANCEL);
				_tmp25_ = md;
				gtk_dialog_add_button ((GtkDialog*) _tmp25_, GTK_STOCK_REMOVE, (gint) GTK_RESPONSE_OK);
				_tmp26_ = md;
				_tmp27_ = gtk_dialog_run ((GtkDialog*) _tmp26_);
				response = _tmp27_;
				_tmp28_ = md;
				gtk_widget_destroy ((GtkWidget*) _tmp28_);
				_tmp29_ = response;
				if (_tmp29_ != ((gint) GTK_RESPONSE_OK)) {
					_g_object_unref0 (md);
					_g_object_unref0 (file);
					_g_object_unref0 (_file_list);
					return;
				}
				_g_object_unref0 (md);
			}
			_tmp30_ = steadyflow_services_get_download ();
			_tmp31_ = _tmp30_;
			_tmp32_ = file;
			steadyflow_core_idownload_service_remove_file (_tmp31_, _tmp32_);
			_g_object_unref0 (file);
		}
		_g_object_unref0 (_file_list);
	}
	steadyflow_main_window_on_selection_changed (self);
}


void steadyflow_main_window_on_open_file (GtkAction* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	steadyflow_main_window_open_selected_file (self);
}


static void steadyflow_main_window_open_selected_file (SteadyflowMainWindow* self) {
	SteadyflowFileListController* _tmp0_;
	SteadyflowCoreIDownloadFile* _tmp1_ = NULL;
	SteadyflowCoreIDownloadFile* file;
	SteadyflowCoreIDownloadFile* _tmp2_;
	SteadyflowCoreIDownloadFile* _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->file_list_controller;
	_tmp1_ = steadyflow_file_list_controller_get_selected_file (_tmp0_);
	file = _tmp1_;
	_tmp2_ = file;
	if (_tmp2_ == NULL) {
		_g_object_unref0 (file);
		return;
	}
	_tmp3_ = file;
	steadyflow_ui_ui_util_open_file (_tmp3_);
	_g_object_unref0 (file);
}


void steadyflow_main_window_on_open_folder (GtkAction* sender, SteadyflowMainWindow* self) {
	SteadyflowFileListController* _tmp0_;
	SteadyflowCoreIDownloadFile* _tmp1_ = NULL;
	SteadyflowCoreIDownloadFile* file;
	SteadyflowCoreIDownloadFile* _tmp2_;
	SteadyflowCoreIDownloadFile* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = self->priv->file_list_controller;
	_tmp1_ = steadyflow_file_list_controller_get_selected_file (_tmp0_);
	file = _tmp1_;
	_tmp2_ = file;
	if (_tmp2_ == NULL) {
		_g_object_unref0 (file);
		return;
	}
	_tmp3_ = file;
	steadyflow_ui_ui_util_open_folder (_tmp3_);
	_g_object_unref0 (file);
}


void steadyflow_main_window_on_copy_link (GtkAction* sender, SteadyflowMainWindow* self) {
	SteadyflowFileListController* _tmp0_;
	SteadyflowCoreIDownloadFile* _tmp1_ = NULL;
	SteadyflowCoreIDownloadFile* file;
	SteadyflowCoreIDownloadFile* _tmp2_;
	GtkClipboard* _tmp3_ = NULL;
	SteadyflowCoreIDownloadFile* _tmp4_;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	SteadyflowCoreIDownloadFile* _tmp7_;
	const gchar* _tmp8_;
	const gchar* _tmp9_;
	gint _tmp10_;
	gint _tmp11_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = self->priv->file_list_controller;
	_tmp1_ = steadyflow_file_list_controller_get_selected_file (_tmp0_);
	file = _tmp1_;
	_tmp2_ = file;
	if (_tmp2_ == NULL) {
		_g_object_unref0 (file);
		return;
	}
	_tmp3_ = gtk_clipboard_get (GDK_SELECTION_CLIPBOARD);
	_tmp4_ = file;
	_tmp5_ = steadyflow_core_idownload_file_get_url (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = file;
	_tmp8_ = steadyflow_core_idownload_file_get_url (_tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = strlen (_tmp9_);
	_tmp11_ = _tmp10_;
	gtk_clipboard_set_text (_tmp3_, _tmp6_, _tmp11_);
	_g_object_unref0 (file);
}


void steadyflow_main_window_on_edit_preferences (GtkMenuItem* sender, SteadyflowMainWindow* self) {
	SteadyflowPreferencesDialog* _tmp0_;
	SteadyflowPreferencesDialog* _tmp1_;
	SteadyflowPreferencesDialog* dlg;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = steadyflow_preferences_dialog_new ((GtkWindow*) self);
	_tmp1_ = g_object_ref_sink (_tmp0_);
	dlg = _tmp1_;
	gtk_dialog_run ((GtkDialog*) dlg);
	gtk_widget_destroy ((GtkWidget*) dlg);
	_g_object_unref0 (dlg);
}


static void steadyflow_main_window_show_uri (const gchar* uri) {
	GError * _inner_error_ = NULL;
	g_return_if_fail (uri != NULL);
	{
		const gchar* _tmp0_;
		_tmp0_ = uri;
		gtk_show_uri (NULL, _tmp0_, (guint32) GDK_CURRENT_TIME, &_inner_error_);
		if (_inner_error_ != NULL) {
			goto __catch21_g_error;
		}
	}
	goto __finally21;
	__catch21_g_error:
	{
		GError* e = NULL;
		const gchar* _tmp1_ = NULL;
		const gchar* _tmp2_;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp1_ = _ ("Could not launch web browser for URL %s");
		_tmp2_ = uri;
		_tmp3_ = g_strdup_printf (_tmp1_, _tmp2_);
		_tmp4_ = _tmp3_;
		steadyflow_core_util_fatal_error (e, _tmp4_);
		_g_free0 (_tmp4_);
		_g_error_free0 (e);
	}
	__finally21:
	if (_inner_error_ != NULL) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
}


void steadyflow_main_window_on_help_reportbug (GtkMenuItem* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	steadyflow_main_window_show_uri ("https://bugs.launchpad.net/steadyflow");
}


void steadyflow_main_window_on_help_translate (GtkMenuItem* sender, SteadyflowMainWindow* self) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	steadyflow_main_window_show_uri ("https://translations.launchpad.net/steadyflow");
}


void steadyflow_main_window_on_help_about (GtkMenuItem* sender, SteadyflowMainWindow* self) {
	GtkAboutDialog* _tmp0_;
	GtkAboutDialog* _tmp1_;
	GtkAboutDialog* dlg;
	gchar** _tmp2_;
	gchar** _tmp3_ = NULL;
	gchar** _tmp4_;
	gint _tmp4__length1;
	const gchar* _tmp5_ = NULL;
	const gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = (GtkAboutDialog*) gtk_about_dialog_new ();
	_tmp1_ = g_object_ref_sink (_tmp0_);
	dlg = _tmp1_;
	_tmp3_ = _tmp2_ = g_strsplit (CMAKE_APP_AUTHORS, "\n", 0);
	_tmp4_ = _tmp3_;
	_tmp4__length1 = _vala_array_length (_tmp2_);
	gtk_about_dialog_set_authors (dlg, _tmp4_);
	_tmp4_ = (_vala_array_free (_tmp4_, _tmp4__length1, (GDestroyNotify) g_free), NULL);
	gtk_about_dialog_set_copyright (dlg, "Copyright  2010-2012 Maia Kozheva <sikon@ubuntu.com>");
	gtk_about_dialog_set_license (dlg, STEADYFLOW_LICENSE);
	gtk_about_dialog_set_logo_icon_name (dlg, "steadyflow");
	gtk_about_dialog_set_program_name (dlg, "Steadyflow");
	_tmp5_ = _ ("Simple download manager for GNOME");
	gtk_about_dialog_set_comments (dlg, _tmp5_);
	gtk_about_dialog_set_version (dlg, CMAKE_APP_VERSION);
	gtk_about_dialog_set_website (dlg, "https://launchpad.net/steadyflow");
	_tmp6_ = _ ("Website");
	gtk_about_dialog_set_website_label (dlg, _tmp6_);
	_tmp7_ = _ ("translator-credits");
	gtk_about_dialog_set_translator_credits (dlg, _tmp7_);
	gtk_dialog_run ((GtkDialog*) dlg);
	gtk_widget_destroy ((GtkWidget*) dlg);
	_g_object_unref0 (dlg);
}


static void steadyflow_main_window_on_menu_position (SteadyflowMainWindow* self, GtkMenu* menu, gint* x, gint* y, gboolean* push_in) {
	gint _vala_x = 0;
	gint _vala_y = 0;
	gboolean _vala_push_in = FALSE;
	GtkAllocation alloc = {0};
	gint win_x = 0;
	gint win_y = 0;
	GtkToggleToolButton* _tmp0_;
	GtkAllocation _tmp1_ = {0};
	GtkToggleToolButton* _tmp2_;
	GdkWindow* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	GtkAllocation _tmp6_;
	gint _tmp7_;
	GtkAllocation _tmp8_;
	gint _tmp9_;
	GtkAllocation _tmp10_;
	gint _tmp11_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (menu != NULL);
	_tmp0_ = self->priv->t_edit;
	gtk_widget_get_allocation ((GtkWidget*) _tmp0_, &_tmp1_);
	alloc = _tmp1_;
	_tmp2_ = self->priv->t_edit;
	_tmp3_ = gtk_widget_get_window ((GtkWidget*) _tmp2_);
	gdk_window_get_origin (_tmp3_, &_tmp4_, &_tmp5_);
	win_x = _tmp4_;
	win_y = _tmp5_;
	_tmp6_ = alloc;
	_tmp7_ = _tmp6_.x;
	_vala_x = win_x + _tmp7_;
	_tmp8_ = alloc;
	_tmp9_ = _tmp8_.y;
	_tmp10_ = alloc;
	_tmp11_ = _tmp10_.height;
	_vala_y = (win_y + _tmp9_) + _tmp11_;
	_vala_push_in = TRUE;
	if (x) {
		*x = _vala_x;
	}
	if (y) {
		*y = _vala_y;
	}
	if (push_in) {
		*push_in = _vala_push_in;
	}
}


static void _steadyflow_main_window_on_menu_position_gtk_menu_position_func (GtkMenu* menu, gint* x, gint* y, gboolean* push_in, gpointer self) {
	steadyflow_main_window_on_menu_position (self, menu, x, y, push_in);
}


void steadyflow_main_window_on_menu_edit (GtkToolButton* sender, SteadyflowMainWindow* self) {
	GtkToggleToolButton* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = self->priv->t_edit;
	_tmp1_ = gtk_toggle_tool_button_get_active (_tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_) {
		GObject* _tmp3_ = NULL;
		GtkMenu* menu;
		GtkMenu* _tmp4_;
		_tmp3_ = steadyflow_ui_igtk_builder_container_get_object ((SteadyflowUIIGtkBuilderContainer*) self, "m_edit_s");
		menu = GTK_MENU (_tmp3_);
		_tmp4_ = menu;
		gtk_menu_popup (_tmp4_, NULL, NULL, _steadyflow_main_window_on_menu_position_gtk_menu_position_func, self, (guint) 1, (guint32) GDK_CURRENT_TIME);
		_g_object_unref0 (menu);
	}
}


void steadyflow_main_window_on_app_menu_deactivate (GtkMenu* sender, SteadyflowMainWindow* self) {
	GtkToggleToolButton* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = self->priv->t_edit;
	gtk_toggle_tool_button_set_active (_tmp0_, FALSE);
}


void steadyflow_main_window_on_searchbox_changed (GtkEntry* sender, SteadyflowMainWindow* self) {
	SteadyflowFileListController* _tmp0_;
	GtkEntry* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	_tmp0_ = self->priv->file_list_controller;
	_tmp1_ = sender;
	_tmp2_ = gtk_entry_get_text (_tmp1_);
	_tmp3_ = _tmp2_;
	steadyflow_file_list_controller_set_filter (_tmp0_, _tmp3_);
}


gboolean steadyflow_main_window_on_tree_key_press (GtkTreeView* sender, GdkEventKey* e, SteadyflowMainWindow* self) {
	gboolean result = FALSE;
	GdkEventKey _tmp0_;
	guint _tmp1_;
	const gchar* _tmp2_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (sender != NULL, FALSE);
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = *e;
	_tmp1_ = _tmp0_.keyval;
	_tmp2_ = gdk_keyval_name (_tmp1_);
	if (g_strcmp0 (_tmp2_, "Delete") == 0) {
		GtkAction* _tmp3_;
		_tmp3_ = self->priv->a_remove;
		steadyflow_main_window_on_file_remove (_tmp3_, self);
	}
	result = FALSE;
	return result;
}


gboolean steadyflow_main_window_on_tree_button_press (GtkTreeView* sender, GdkEventButton* e, SteadyflowMainWindow* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GdkEventButton _tmp1_;
	guint _tmp2_;
	gboolean _tmp5_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (sender != NULL, FALSE);
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp1_ = *e;
	_tmp2_ = _tmp1_.button;
	if (_tmp2_ == ((guint) 1)) {
		GdkEventButton _tmp3_;
		GdkEventType _tmp4_;
		_tmp3_ = *e;
		_tmp4_ = _tmp3_.type;
		_tmp0_ = _tmp4_ == GDK_2BUTTON_PRESS;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = _tmp0_;
	if (_tmp5_) {
		steadyflow_main_window_open_selected_file (self);
	} else {
		gboolean _tmp6_ = FALSE;
		GdkEventButton _tmp7_;
		guint _tmp8_;
		gboolean _tmp20_;
		_tmp7_ = *e;
		_tmp8_ = _tmp7_.button;
		if (_tmp8_ == ((guint) 3)) {
			SteadyflowFileListController* _tmp9_;
			GeeList* _tmp10_ = NULL;
			GeeList* _tmp11_;
			SteadyflowFileListController* _tmp12_;
			GdkEventButton _tmp13_;
			gdouble _tmp14_;
			GdkEventButton _tmp15_;
			gdouble _tmp16_;
			SteadyflowCoreIDownloadFile* _tmp17_ = NULL;
			SteadyflowCoreIDownloadFile* _tmp18_;
			gboolean _tmp19_ = FALSE;
			_tmp9_ = self->priv->file_list_controller;
			_tmp10_ = steadyflow_file_list_controller_get_selected_files (_tmp9_);
			_tmp11_ = _tmp10_;
			_tmp12_ = self->priv->file_list_controller;
			_tmp13_ = *e;
			_tmp14_ = _tmp13_.x;
			_tmp15_ = *e;
			_tmp16_ = _tmp15_.y;
			_tmp17_ = steadyflow_file_list_controller_get_file_at_widget_pos (_tmp12_, (gint) _tmp14_, (gint) _tmp16_);
			_tmp18_ = _tmp17_;
			_tmp19_ = gee_collection_contains ((GeeCollection*) _tmp11_, _tmp18_);
			_tmp6_ = _tmp19_;
			_g_object_unref0 (_tmp18_);
			_g_object_unref0 (_tmp11_);
		} else {
			_tmp6_ = FALSE;
		}
		_tmp20_ = _tmp6_;
		if (_tmp20_) {
			result = TRUE;
			return result;
		}
	}
	result = FALSE;
	return result;
}


gboolean steadyflow_main_window_on_tree_button_release (GtkTreeView* sender, GdkEventButton* e, SteadyflowMainWindow* self) {
	gboolean result = FALSE;
	GdkEventButton _tmp0_;
	guint _tmp1_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (sender != NULL, FALSE);
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = *e;
	_tmp1_ = _tmp0_.button;
	if (_tmp1_ == ((guint) 3)) {
		GdkEventButton _tmp2_;
		guint _tmp3_;
		GdkEventButton _tmp4_;
		guint32 _tmp5_;
		_tmp2_ = *e;
		_tmp3_ = _tmp2_.button;
		_tmp4_ = *e;
		_tmp5_ = _tmp4_.time;
		steadyflow_main_window_tree_popup_menu (self, _tmp3_, (guint) _tmp5_);
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}


gboolean steadyflow_main_window_on_tree_popup_menu (GtkTreeView* sender, SteadyflowMainWindow* self) {
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (sender != NULL, FALSE);
	steadyflow_main_window_tree_popup_menu (self, (guint) 3, (guint) GDK_CURRENT_TIME);
	result = TRUE;
	return result;
}


static void steadyflow_main_window_tree_popup_menu (SteadyflowMainWindow* self, guint button, guint time) {
	SteadyflowFileListController* _tmp0_;
	gint _tmp1_ = 0;
	gint file_count;
	gint _tmp2_;
	GtkMenu* _tmp15_;
	guint _tmp16_;
	guint _tmp17_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->file_list_controller;
	_tmp1_ = steadyflow_file_list_controller_get_selection_count (_tmp0_);
	file_count = _tmp1_;
	_tmp2_ = file_count;
	if (_tmp2_ == 0) {
		return;
	} else {
		gint _tmp3_;
		_tmp3_ = file_count;
		if (_tmp3_ == 1) {
			SteadyflowFileListController* _tmp4_;
			SteadyflowCoreIDownloadFile* _tmp5_ = NULL;
			SteadyflowCoreIDownloadFile* file;
			GtkAction* _tmp6_;
			SteadyflowCoreIDownloadFile* _tmp7_;
			SteadyflowCoreIDownloadFileStatus _tmp8_;
			SteadyflowCoreIDownloadFileStatus _tmp9_;
			GtkAction* _tmp10_;
			GtkAction* _tmp11_;
			_tmp4_ = self->priv->file_list_controller;
			_tmp5_ = steadyflow_file_list_controller_get_selected_file (_tmp4_);
			file = _tmp5_;
			_tmp6_ = self->priv->a_open_file;
			_tmp7_ = file;
			_tmp8_ = steadyflow_core_idownload_file_get_status (_tmp7_);
			_tmp9_ = _tmp8_;
			gtk_action_set_sensitive (_tmp6_, _tmp9_ == STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_FINISHED);
			_tmp10_ = self->priv->a_open_folder;
			gtk_action_set_sensitive (_tmp10_, TRUE);
			_tmp11_ = self->priv->a_copy_link;
			gtk_action_set_sensitive (_tmp11_, TRUE);
			_g_object_unref0 (file);
		} else {
			GtkAction* _tmp12_;
			GtkAction* _tmp13_;
			GtkAction* _tmp14_;
			_tmp12_ = self->priv->a_open_file;
			gtk_action_set_sensitive (_tmp12_, FALSE);
			_tmp13_ = self->priv->a_open_folder;
			gtk_action_set_sensitive (_tmp13_, FALSE);
			_tmp14_ = self->priv->a_copy_link;
			gtk_action_set_sensitive (_tmp14_, FALSE);
		}
	}
	_tmp15_ = self->priv->m_item_popup;
	_tmp16_ = button;
	_tmp17_ = time;
	gtk_menu_popup (_tmp15_, NULL, NULL, NULL, NULL, _tmp16_, (guint32) _tmp17_);
}


static void steadyflow_main_window_update_searchbox_and_file_counts (SteadyflowMainWindow* self) {
	GtkEntry* _tmp0_;
	SteadyflowCoreIDownloadService* _tmp1_;
	SteadyflowCoreIDownloadService* _tmp2_;
	GeeList* _tmp3_;
	GeeList* _tmp4_;
	GeeList* _tmp5_;
	gboolean _tmp6_;
	gboolean _tmp7_;
	gint downloading;
	gint paused;
	gint finished;
	GtkLabel* _tmp27_;
	const gchar* _tmp28_ = NULL;
	gint _tmp29_;
	gint _tmp30_;
	gint _tmp31_;
	gchar* _tmp32_ = NULL;
	gchar* _tmp33_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->searchbox;
	_tmp1_ = steadyflow_services_get_download ();
	_tmp2_ = _tmp1_;
	_tmp3_ = steadyflow_core_idownload_service_get_files (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = _tmp4_;
	_tmp6_ = gee_collection_get_is_empty ((GeeCollection*) _tmp5_);
	_tmp7_ = _tmp6_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp0_, !_tmp7_);
	_g_object_unref0 (_tmp5_);
	downloading = 0;
	paused = 0;
	finished = 0;
	{
		SteadyflowCoreIDownloadService* _tmp8_;
		SteadyflowCoreIDownloadService* _tmp9_;
		GeeList* _tmp10_;
		GeeList* _tmp11_;
		GeeList* _file_list;
		GeeList* _tmp12_;
		gint _tmp13_;
		gint _tmp14_;
		gint _file_size;
		gint _file_index;
		_tmp8_ = steadyflow_services_get_download ();
		_tmp9_ = _tmp8_;
		_tmp10_ = steadyflow_core_idownload_service_get_files (_tmp9_);
		_tmp11_ = _tmp10_;
		_file_list = _tmp11_;
		_tmp12_ = _file_list;
		_tmp13_ = gee_collection_get_size ((GeeCollection*) _tmp12_);
		_tmp14_ = _tmp13_;
		_file_size = _tmp14_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp15_;
			gint _tmp16_;
			gint _tmp17_;
			GeeList* _tmp18_;
			gint _tmp19_;
			gpointer _tmp20_ = NULL;
			SteadyflowCoreIDownloadFile* file;
			SteadyflowCoreIDownloadFile* _tmp21_;
			SteadyflowCoreIDownloadFileStatus _tmp22_;
			SteadyflowCoreIDownloadFileStatus _tmp23_;
			_tmp15_ = _file_index;
			_file_index = _tmp15_ + 1;
			_tmp16_ = _file_index;
			_tmp17_ = _file_size;
			if (!(_tmp16_ < _tmp17_)) {
				break;
			}
			_tmp18_ = _file_list;
			_tmp19_ = _file_index;
			_tmp20_ = gee_list_get (_tmp18_, _tmp19_);
			file = (SteadyflowCoreIDownloadFile*) _tmp20_;
			_tmp21_ = file;
			_tmp22_ = steadyflow_core_idownload_file_get_status (_tmp21_);
			_tmp23_ = _tmp22_;
			switch (_tmp23_) {
				case STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_DOWNLOADING:
				{
					gint _tmp24_;
					_tmp24_ = downloading;
					downloading = _tmp24_ + 1;
					break;
				}
				case STEADYFLOW_CORE_IDOWNLOAD_FILE_STATUS_FINISHED:
				{
					gint _tmp25_;
					_tmp25_ = finished;
					finished = _tmp25_ + 1;
					break;
				}
				default:
				{
					gint _tmp26_;
					_tmp26_ = paused;
					paused = _tmp26_ + 1;
					break;
				}
			}
			_g_object_unref0 (file);
		}
		_g_object_unref0 (_file_list);
	}
	_tmp27_ = self->priv->status_label;
	_tmp28_ = _ ("%d downloading, %d paused, %d finished");
	_tmp29_ = downloading;
	_tmp30_ = paused;
	_tmp31_ = finished;
	_tmp32_ = g_strdup_printf (_tmp28_, _tmp29_, _tmp30_, _tmp31_);
	_tmp33_ = _tmp32_;
	gtk_label_set_text (_tmp27_, _tmp33_);
	_g_free0 (_tmp33_);
}


void steadyflow_main_window_on_deploy_surprise (GtkWidget* sender, GdkEventButton* e, SteadyflowMainWindow* self) {
	gboolean _tmp0_ = FALSE;
	GdkEventButton _tmp1_;
	GdkModifierType _tmp2_;
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	g_return_if_fail (e != NULL);
	_tmp1_ = *e;
	_tmp2_ = _tmp1_.state;
	if ((_tmp2_ & GDK_SHIFT_MASK) != 0) {
		GdkEventButton _tmp3_;
		guint _tmp4_;
		_tmp3_ = *e;
		_tmp4_ = _tmp3_.button;
		_tmp0_ = _tmp4_ == ((guint) 2);
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = _tmp0_;
	if (_tmp5_) {
		GtkMessageDialog* _tmp6_;
		GtkMessageDialog* _tmp7_;
		GtkMessageDialog* md;
		GtkMessageDialog* _tmp8_;
		GtkMessageDialog* _tmp9_;
		_tmp6_ = (GtkMessageDialog*) gtk_message_dialog_new_with_markup ((GtkWindow*) self, GTK_DIALOG_MODAL, GTK_MESSAGE_INFO, GTK_BUTTONS_CLOSE, STEADYFLOW_UI_UI_UTIL_MESSAGE_FORMAT, "", "Surprise deployed!");
		_tmp7_ = g_object_ref_sink (_tmp6_);
		md = _tmp7_;
		_tmp8_ = md;
		gtk_dialog_run ((GtkDialog*) _tmp8_);
		_tmp9_ = md;
		gtk_widget_destroy ((GtkWidget*) _tmp9_);
		_g_object_unref0 (md);
	}
}


static void steadyflow_main_window_class_init (SteadyflowMainWindowClass * klass) {
	steadyflow_main_window_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (SteadyflowMainWindowPrivate));
	G_OBJECT_CLASS (klass)->finalize = steadyflow_main_window_finalize;
}


static void steadyflow_main_window_instance_init (SteadyflowMainWindow * self) {
	self->priv = STEADYFLOW_MAIN_WINDOW_GET_PRIVATE (self);
}


static void steadyflow_main_window_finalize (GObject* obj) {
	SteadyflowMainWindow * self;
	self = STEADYFLOW_MAIN_WINDOW (obj);
	_g_object_unref0 (self->priv->toolbar);
	_g_object_unref0 (self->priv->statuspanel);
	_g_object_unref0 (self->priv->filestatuspanel);
	_g_object_unref0 (self->priv->url_label);
	_g_object_unref0 (self->priv->local_label);
	_g_object_unref0 (self->priv->status_label);
	_g_object_unref0 (self->priv->m_item_popup);
	_g_object_unref0 (self->priv->searchbox);
	_g_object_unref0 (self->priv->t_edit);
	_g_object_unref0 (self->priv->a_start);
	_g_object_unref0 (self->priv->a_pause);
	_g_object_unref0 (self->priv->a_remove);
	_g_object_unref0 (self->priv->a_open_file);
	_g_object_unref0 (self->priv->a_open_folder);
	_g_object_unref0 (self->priv->a_copy_link);
	_g_object_unref0 (self->priv->a_view_statuspanel);
	_g_object_unref0 (self->priv->indicator_controller);
	_g_object_unref0 (self->priv->file_list_controller);
	G_OBJECT_CLASS (steadyflow_main_window_parent_class)->finalize (obj);
}


GType steadyflow_main_window_get_type (void) {
	static volatile gsize steadyflow_main_window_type_id__volatile = 0;
	if (g_once_init_enter (&steadyflow_main_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SteadyflowMainWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) steadyflow_main_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SteadyflowMainWindow), 0, (GInstanceInitFunc) steadyflow_main_window_instance_init, NULL };
		GType steadyflow_main_window_type_id;
		steadyflow_main_window_type_id = g_type_register_static (STEADYFLOW_UI_TYPE_GTK_BUILDER_WINDOW, "SteadyflowMainWindow", &g_define_type_info, 0);
		g_once_init_leave (&steadyflow_main_window_type_id__volatile, steadyflow_main_window_type_id);
	}
	return steadyflow_main_window_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



